<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">

<head>
    <script>
        function updateAll() {
            let username = document.getElementById("username").value;
            let email = document.getElementById("email").value;
            let data = {
                username: username,
                email: email
            }
            $.ajax({
                type: 'PUT',
                url: '/account/login1',
                data: JSON.stringify(data),
                contentType: "application/json;charset=UTF-8",
            }).done(function (response) {
                window.location.replace("/");
            }).fail(function () {
            });
        }
    </script>
</head>

<div layout:fragment="content">

    <a th:href="@{/account/activity/{login_id}(login_id=${login_id})}">내 활동</a>
    <a th:href="@{/account/{login_id}(login_id=${login_id})}">계정 설정</a>

    <div>닉네임</div>
    <input id="username" name="username" th:value="${userResponseDto.username}">
    <div>이메일</div>
    <input id="email" name="email" th:value="${userResponseDto.email}">
    <button onclick="updateAll()">수정</button>

</div>

</html>
